export const PROPORTION_OF_ORG_UNIT_NOT_REPORTING_FUNCTION =
  '//Example of function implementation\nparameters.progress(20);\n$.ajax({\n\turl: "../../../api/26/analytics.json?skipData=true&dimension=pe:" + parameters.pe + "&dimension=ou:" + parameters.ou,\n\ttype: "GET",\n\tsuccess: function(analyticsResults) {\n\t\tanalyticsResults.headers = [\n    {\n      "name": "dx",\n      "column": "Data",\n      "valueType": "TEXT",\n      "type": "java.lang.String",\n      "hidden": false,\n      "meta": true\n    },\n    {\n      "name": "pe",\n      "column": "Period",\n      "valueType": "TEXT",\n      "type": "java.lang.String",\n      "hidden": false,\n      "meta": true\n    },\n    {\n      "name": "ou",\n      "column": "Organisation unit",\n      "valueType": "TEXT",\n      "type": "java.lang.String",\n      "hidden": false,\n      "meta": true\n    },\n    {\n      "name": "value",\n      "column": "Value",\n      "valueType": "NUMBER",\n      "type": "java.lang.Double",\n      "hidden": false,\n      "meta": false\n    }\n  ]\n\t\tanalyticsResults.metaData.dx = [parameters.rule.id];\n\t\tanalyticsResults.metaData.names[parameters.rule.id] = parameters.rule.name;\n\t\tparameters.progress(50);\n\t\t$.ajax({\n\t\t\turl: "../../../api/25/organisationUnits.json?paging=false&filter=level:eq:" + parameters.rule.json.level + "&filter=path:like:" + parameters.ou + "&fields=dataSets[id]",\n\t\t\ttype: "GET",\n\t\t\tsuccess: function(orgUnitResults) {\n\t\t\t\tvar count = 0;\n\t\t\t\torgUnitResults.organisationUnits.forEach(function(orgUnit){\n\t\t\t\t\torgUnit.dataSets.forEach(function(dataSet){\n\t\t\t\t\t\tif(dataSet.id == parameters.rule.json.dataSet){\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\tanalyticsResults.metaData.ou.forEach(function(ou){\n\t\t\t\t\tanalyticsResults.metaData.pe.forEach(function(pe){\n\t\t\t\t\t\tanalyticsResults.rows.push([parameters.rule.id,parameters.pe,parameters.ou,""+ (orgUnitResults.organisationUnits.length - count)]);\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\tparameters.progress(100);\n\t\t\t\tparameters.success(analyticsResults);\n\t\t\t},\n\t\t\terror:function(error){\n\t\t\t\t  parameters.error(error);\n\t\t\t}\n\t\t});\n\t},\n\terror:function(error){\n\t\t  parameters.error(error);\n\t}\n});';
